<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `KafkaClient` struct in crate `kafka`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, KafkaClient">

    <title>kafka::client::KafkaClient - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../index.html'>kafka</a>::<wbr><a href='index.html'>client</a></p><script>window.sidebarCurrent = {name: 'KafkaClient', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='../index.html'>kafka</a>::<wbr><a href='index.html'>client</a>::<wbr><a class='struct' href=''>KafkaClient</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                [<span class='inner'>&#x2212;</span>]
            </a>
        </span><a id='src-2052' class='srclink' href='../../src/kafka/client.rs.html#41-54' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct KafkaClient {
    pub topic_partitions: <a class='struct' href='https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html' title='std::collections::hash::map::HashMap'>HashMap</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a href='https://doc.rust-lang.org/nightly/std/primitive.i32.html'>i32</a>&gt;&gt;,
    // some fields omitted
}</pre><div class='docblock'><p>Client struct.</p>

<p>It keeps track of brokers and topic metadata</p>

<p>Implements methods described by Kafka Protocol (<a href="https://cwiki.apache.org/confluence/display/KAFKA/A+Guide+To+The+Kafka+Protocol">https://cwiki.apache.org/confluence/display/KAFKA/A+Guide+To+The+Kafka+Protocol</a>)</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();</pre>

<p>You will have to load metadata before making any other request.</p>
</div><h2 class='fields'>Fields</h2>
<table><tr class='stab '>
                                  <td id='structfield.topic_partitions'><code>topic_partitions</code></td><td><div class='docblock'><p>HashMap where <code>topic</code> is the key and list of <code>partitions</code> is the value</p>
</div></td></tr></table><h2 id='methods'>Methods</h2><h3 class='impl'><code>impl <a class='struct' href='../../kafka/client/struct.KafkaClient.html' title='kafka::client::KafkaClient'>KafkaClient</a></code></h3><div class='impl-items'><h4 id='method.new' class='method'><code>fn <a href='#method.new' class='fnname'>new</a>(hosts: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>&gt;) -&gt; <a class='struct' href='../../kafka/client/struct.KafkaClient.html' title='kafka::client::KafkaClient'>KafkaClient</a></code></h4>
<div class='docblock'><p>Create a new instance of KafkaClient</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));</pre>
</div><h4 id='method.load_metadata_all' class='method'><code>fn <a href='#method.load_metadata_all' class='fnname'>load_metadata_all</a>(&amp;mut self) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>&gt;</code></h4>
<div class='docblock'><p>Resets and loads metadata for all topics.</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();</pre>
</div><h4 id='method.load_metadata' class='method'><code>fn <a href='#method.load_metadata' class='fnname'>load_metadata</a>(&amp;mut self, topics: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>&gt;) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>&gt;</code></h4>
<div class='docblock'><p>Reloads metadata for a list of supplied topics.</p>

<p>Note: if any of the specified topics does not exist yet on the
underlying brokers and these have the <a href="https://kafka.apache.org/documentation.html#configuration">configuration for &quot;auto
create topics&quot;
enabled</a>,
the remote kafka instance will create the yet missing topics
on the fly as a result of explicitely loading their metadata.
This is in contrast to other methods of this <code>KafkaClient</code>
which will silently filter out requests to
not-yet-loaded/not-yet-known topics and, thus, not cause
topics to be automatically created.</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;my-topic&quot;</span>.<span class='ident'>to_owned</span>()));</pre>

<p>returns <code>Result&lt;(), error::Error&gt;</code></p>
</div><h4 id='method.reset_metadata' class='method'><code>fn <a href='#method.reset_metadata' class='fnname'>reset_metadata</a>(&amp;mut self)</code></h4>
<div class='docblock'><p>Clears metadata stored in the client. You must load metadata after this call if you want
to use the client</p>
</div><h4 id='method.set_compression' class='method'><code>fn <a href='#method.set_compression' class='fnname'>set_compression</a>(&amp;mut self, compression: <a class='enum' href='../../kafka/client/enum.Compression.html' title='kafka::client::Compression'>Compression</a>)</code></h4>
<div class='docblock'><p>Set the compression algorithm to use</p>

<p><code>compression</code> - one of compression::Compression::{NONE, GZIP, SNAPPY}</p>

<h1 id='example' class='section-header'><a href='#example'>Example</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='ident'>client</span>.<span class='ident'>set_compression</span>(<span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>Compression</span>::<span class='ident'>SNAPPY</span>);</pre>
</div><h4 id='method.fetch_offsets' class='method'><code>fn <a href='#method.fetch_offsets' class='fnname'>fetch_offsets</a>(&amp;mut self, topics: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>&gt;, time: <a href='https://doc.rust-lang.org/nightly/std/primitive.i64.html'>i64</a>) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html' title='std::collections::hash::map::HashMap'>HashMap</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.PartitionOffset.html' title='kafka::utils::PartitionOffset'>PartitionOffset</a>&gt;&gt;&gt;</code></h4>
<div class='docblock'><p>Fetch offsets for a list of topics.</p>

<p><code>time</code> - Used to ask for all messages before a certain time (ms). There are two special values.
         Specify -1 to receive the latest offset (i.e. the offset of the next coming message)
         and -2 to receive the earliest available offset</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();
<span class='kw'>let</span> <span class='ident'>topics</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>topic_partitions</span>.<span class='ident'>keys</span>().<span class='ident'>cloned</span>().<span class='ident'>collect</span>();
<span class='kw'>let</span> <span class='ident'>offsets</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>fetch_offsets</span>(<span class='ident'>topics</span>, <span class='op'>-</span><span class='number'>1</span>);</pre>

<p>Returns a hashmap of (topic, PartitionOffset data).
PartitionOffset will contain parition and offset info Or Error code as returned by Kafka.</p>
</div><h4 id='method.fetch_topic_offset' class='method'><code>fn <a href='#method.fetch_topic_offset' class='fnname'>fetch_topic_offset</a>(&amp;mut self, topic: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, time: <a href='https://doc.rust-lang.org/nightly/std/primitive.i64.html'>i64</a>) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html' title='std::collections::hash::map::HashMap'>HashMap</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.PartitionOffset.html' title='kafka::utils::PartitionOffset'>PartitionOffset</a>&gt;&gt;&gt;</code></h4>
<div class='docblock'><p>Fetch offset for a topic.</p>

<p><code>time</code> - Used to ask for all messages before a certain time (ms). There are two special values.
         Specify -1 to receive the latest offset (i.e. the offset of the next coming message)
         and -2 to receive the earliest available offset</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();
<span class='kw'>let</span> <span class='ident'>offsets</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>fetch_topic_offset</span>(<span class='string'>&quot;my-topic&quot;</span>.<span class='ident'>to_owned</span>(), <span class='op'>-</span><span class='number'>1</span>);</pre>

<p>Returns a hashmap of (topic, PartitionOffset data).
PartitionOffset will contain parition and offset info Or Error code as returned by Kafka.</p>
</div><h4 id='method.fetch_messages_multi' class='method'><code>fn <a href='#method.fetch_messages_multi' class='fnname'>fetch_messages_multi</a>(&amp;mut self, input: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.TopicPartitionOffset.html' title='kafka::utils::TopicPartitionOffset'>TopicPartitionOffset</a>&gt;) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.TopicMessage.html' title='kafka::utils::TopicMessage'>TopicMessage</a>&gt;&gt;</code></h4>
<div class='docblock'><p>Fetch messages from Kafka (Multiple topic, partition, offset)</p>

<p>It takes a vector of <code>utils::TopicPartitionOffset</code> and returns a vector of <code>utils::TopicMessage</code>
or error::Error</p>

<p>You can figure out the appropriate partition and offset using client&#39;s
<code>client.topic_partitions</code> and <code>client.fetch_topic_offset(topic)</code></p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>kafka</span>::<span class='ident'>utils</span>;
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();
<span class='kw'>let</span> <span class='ident'>msgs</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>fetch_messages_multi</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='ident'>utils</span>::<span class='ident'>TopicPartitionOffset</span>{
                                                <span class='ident'>topic</span>: <span class='string'>&quot;my-topic&quot;</span>.<span class='ident'>to_owned</span>(),
                                                <span class='ident'>partition</span>: <span class='number'>0</span>,
                                                <span class='ident'>offset</span>: <span class='number'>0</span>
                                            },
                                            <span class='ident'>utils</span>::<span class='ident'>TopicPartitionOffset</span>{
                                                <span class='ident'>topic</span>: <span class='string'>&quot;my-topic-2&quot;</span>.<span class='ident'>to_owned</span>(),
                                                <span class='ident'>partition</span>: <span class='number'>0</span>,
                                                <span class='ident'>offset</span>: <span class='number'>0</span>
                                            }));</pre>
</div><h4 id='method.fetch_messages' class='method'><code>fn <a href='#method.fetch_messages' class='fnname'>fetch_messages</a>(&amp;mut self, topic: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, partition: <a href='https://doc.rust-lang.org/nightly/std/primitive.i32.html'>i32</a>, offset: <a href='https://doc.rust-lang.org/nightly/std/primitive.i64.html'>i64</a>) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.TopicMessage.html' title='kafka::utils::TopicMessage'>TopicMessage</a>&gt;&gt;</code></h4>
<div class='docblock'><p>Fetch messages from Kafka (Single topic, partition, offset)</p>

<p>It takes a single topic, parition and offset and return a vector of messages (<code>utils::TopicMessage</code>)
or error::Error</p>

<p>You can figure out the appropriate partition and offset using client&#39;s
client.topic_partitions and client.fetch_topic_offset(topic)</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();
<span class='kw'>let</span> <span class='ident'>msgs</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>fetch_messages</span>(<span class='string'>&quot;my-topic&quot;</span>.<span class='ident'>to_owned</span>(), <span class='number'>0</span>, <span class='number'>0</span>);</pre>
</div><h4 id='method.send_messages' class='method'><code>fn <a href='#method.send_messages' class='fnname'>send_messages</a>(&amp;mut self, required_acks: <a href='https://doc.rust-lang.org/nightly/std/primitive.i16.html'>i16</a>, timeout: <a href='https://doc.rust-lang.org/nightly/std/primitive.i32.html'>i32</a>, input: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.ProduceMessage.html' title='kafka::utils::ProduceMessage'>ProduceMessage</a>&gt;) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.TopicPartitionOffsetError.html' title='kafka::utils::TopicPartitionOffsetError'>TopicPartitionOffsetError</a>&gt;&gt;</code></h4>
<div class='docblock'><p>Send a message to Kafka</p>

<p><code>required_acks</code> - indicates how many acknowledgements the servers should receive before
responding to the request. If it is 0 the server will not send any response
(this is the only case where the server will not reply to a request).
If it is 1, the server will wait the data is written to the local log before sending
a response. If it is -1 the server will block until the message is committed by all
in sync replicas before sending a response. For any number &gt; 1 the server will block
waiting for this number of acknowledgements to occur (but the server will never wait
for more acknowledgements than there are in-sync replicas).</p>

<p><code>timeout</code> - This provides a maximum time in milliseconds the server can await the
receipt of the number of acknowledgements in <code>required_acks</code></p>

<p><code>input</code> - A vector of <code>utils::ProduceMessage</code></p>

<h1 id='example' class='section-header'><a href='#example'>Example</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>kafka</span>::<span class='ident'>utils</span>;
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();
<span class='kw'>let</span> <span class='ident'>m1</span> <span class='op'>=</span> <span class='string'>&quot;a&quot;</span>.<span class='ident'>to_owned</span>().<span class='ident'>into_bytes</span>();
<span class='kw'>let</span> <span class='ident'>m2</span> <span class='op'>=</span> <span class='string'>&quot;b&quot;</span>.<span class='ident'>to_owned</span>().<span class='ident'>into_bytes</span>();
<span class='kw'>let</span> <span class='ident'>req</span> <span class='op'>=</span> <span class='macro'>vec</span><span class='macro'>!</span>(<span class='ident'>utils</span>::<span class='ident'>ProduceMessage</span>{<span class='ident'>topic</span>: <span class='string'>&quot;my-topic&quot;</span>.<span class='ident'>to_owned</span>(), <span class='ident'>message</span>: <span class='ident'>m1</span>},
                <span class='ident'>utils</span>::<span class='ident'>ProduceMessage</span>{<span class='ident'>topic</span>: <span class='string'>&quot;my-topic-2&quot;</span>.<span class='ident'>to_owned</span>(), <span class='ident'>message</span>: <span class='ident'>m2</span>});
<span class='macro'>println</span><span class='macro'>!</span>(<span class='string'>&quot;{:?}&quot;</span>, <span class='ident'>client</span>.<span class='ident'>send_messages</span>(<span class='number'>1</span>, <span class='number'>100</span>, <span class='ident'>req</span>));</pre>

<p>The return value will contain a vector of topic, partition, offset and error if any
OR error:Error</p>
</div><h4 id='method.send_message' class='method'><code>fn <a href='#method.send_message' class='fnname'>send_message</a>(&amp;mut self, required_acks: <a href='https://doc.rust-lang.org/nightly/std/primitive.i16.html'>i16</a>, timeout: <a href='https://doc.rust-lang.org/nightly/std/primitive.i32.html'>i32</a>, topic: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, message: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a href='https://doc.rust-lang.org/nightly/std/primitive.u8.html'>u8</a>&gt;) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.TopicPartitionOffsetError.html' title='kafka::utils::TopicPartitionOffsetError'>TopicPartitionOffsetError</a>&gt;&gt;</code></h4>
<div class='docblock'><p>Send a message to Kafka</p>

<p><code>required_acks</code> - indicates how many acknowledgements the servers should receive before
responding to the request. If it is 0 the server will not send any response
(this is the only case where the server will not reply to a request).
If it is 1, the server will wait the data is written to the local log before sending
a response. If it is -1 the server will block until the message is committed by all
in sync replicas before sending a response. For any number &gt; 1 the server will block
waiting for this number of acknowledgements to occur (but the server will never wait
for more acknowledgements than there are in-sync replicas).</p>

<p><code>timeout</code> - This provides a maximum time in milliseconds the server can await the
receipt of the number of acknowledgements in <code>required_acks</code></p>

<p><code>message</code> - A single message as a vector of u8s</p>

<h1 id='example' class='section-header'><a href='#example'>Example</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();
<span class='kw'>let</span> <span class='ident'>msgs</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>send_message</span>(<span class='number'>1</span>, <span class='number'>100</span>, <span class='string'>&quot;my-topic&quot;</span>.<span class='ident'>to_owned</span>(), <span class='string'>&quot;msg&quot;</span>.<span class='ident'>to_owned</span>().<span class='ident'>into_bytes</span>());</pre>

<p>The return value will contain topic, partition, offset and error if any
OR error:Error</p>
</div><h4 id='method.commit_offsets' class='method'><code>fn <a href='#method.commit_offsets' class='fnname'>commit_offsets</a>(&amp;mut self, group: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, input: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.TopicPartitionOffset.html' title='kafka::utils::TopicPartitionOffset'>TopicPartitionOffset</a>&gt;) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>&gt;</code></h4>
<div class='docblock'><p>Commit offset to topic, partition of a consumer group</p>

<p>It takes a group name and list of <code>utils::TopicPartitionOffset</code> and returns <code>()</code>
or <code>error::Error</code></p>

<p>You can figure out the appropriate partition and offset using client&#39;s
<code>client.topic_partitions</code> and <code>client.fetch_topic_offset(topic)</code></p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>kafka</span>::<span class='ident'>utils</span>;
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();
<span class='kw'>let</span> <span class='ident'>resp</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>commit_offsets</span>(<span class='string'>&quot;my-group&quot;</span>.<span class='ident'>to_owned</span>(), <span class='macro'>vec</span><span class='macro'>!</span>(
                <span class='ident'>utils</span>::<span class='ident'>TopicPartitionOffset</span>{<span class='ident'>topic</span>: <span class='string'>&quot;my-topic&quot;</span>.<span class='ident'>to_owned</span>(), <span class='ident'>partition</span>: <span class='number'>0</span>, <span class='ident'>offset</span>: <span class='number'>100</span>},
                <span class='ident'>utils</span>::<span class='ident'>TopicPartitionOffset</span>{<span class='ident'>topic</span>: <span class='string'>&quot;my-topic&quot;</span>.<span class='ident'>to_owned</span>(), <span class='ident'>partition</span>: <span class='number'>1</span>, <span class='ident'>offset</span>: <span class='number'>100</span>}));</pre>
</div><h4 id='method.commit_offset' class='method'><code>fn <a href='#method.commit_offset' class='fnname'>commit_offset</a>(&amp;mut self, group: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, topic: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, partition: <a href='https://doc.rust-lang.org/nightly/std/primitive.i32.html'>i32</a>, offset: <a href='https://doc.rust-lang.org/nightly/std/primitive.i64.html'>i64</a>) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>&gt;</code></h4>
<div class='docblock'><p>Commit offset to topic, partition of a consumer group</p>

<p>It takes a group name, topic, partition and offset and returns <code>()</code>
or <code>error::Error</code></p>

<p>You can figure out the appropriate partition and offset using client&#39;s
<code>client.topic_partitions</code> and <code>client.fetch_topic_offset(topic)</code></p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>kafka</span>::<span class='ident'>utils</span>;
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();
<span class='kw'>let</span> <span class='ident'>resp</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>commit_offset</span>(<span class='string'>&quot;my-group&quot;</span>.<span class='ident'>to_owned</span>(), <span class='string'>&quot;my-topic&quot;</span>.<span class='ident'>to_owned</span>(), <span class='number'>0</span>, <span class='number'>100</span>);</pre>
</div><h4 id='method.fetch_group_topics_offset' class='method'><code>fn <a href='#method.fetch_group_topics_offset' class='fnname'>fetch_group_topics_offset</a>(&amp;mut self, group: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, input: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.TopicPartition.html' title='kafka::utils::TopicPartition'>TopicPartition</a>&gt;) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.TopicPartitionOffsetError.html' title='kafka::utils::TopicPartitionOffsetError'>TopicPartitionOffsetError</a>&gt;&gt;</code></h4>
<div class='docblock'><p>Fetch offset for vector of topic, partition of a consumer group</p>

<p>It takes a group name and list of <code>utils::TopicPartition</code> and returns <code>utils::TopicPartitionOffsetError</code>
or <code>error::Error</code></p>

<p>You can figure out the appropriate partition using client&#39;s
<code>client.topic_partitions</code></p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>kafka</span>::<span class='ident'>utils</span>;
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();
<span class='kw'>let</span> <span class='ident'>resp</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>fetch_group_topics_offset</span>(<span class='string'>&quot;my-group&quot;</span>.<span class='ident'>to_owned</span>(), <span class='macro'>vec</span><span class='macro'>!</span>(
                <span class='ident'>utils</span>::<span class='ident'>TopicPartition</span>{<span class='ident'>topic</span>: <span class='string'>&quot;my-topic&quot;</span>.<span class='ident'>to_owned</span>(), <span class='ident'>partition</span>: <span class='number'>0</span>},
                <span class='ident'>utils</span>::<span class='ident'>TopicPartition</span>{<span class='ident'>topic</span>: <span class='string'>&quot;my-topic&quot;</span>.<span class='ident'>to_owned</span>(), <span class='ident'>partition</span>: <span class='number'>1</span>}));</pre>
</div><h4 id='method.fetch_group_topic_offset' class='method'><code>fn <a href='#method.fetch_group_topic_offset' class='fnname'>fetch_group_topic_offset</a>(&amp;mut self, group: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>, topic: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.TopicPartitionOffsetError.html' title='kafka::utils::TopicPartitionOffsetError'>TopicPartitionOffsetError</a>&gt;&gt;</code></h4>
<div class='docblock'><p>Fetch offset for all partitions of a topic of a consumer group</p>

<p>It takes a group name and a topic and returns <code>utils::TopicPartitionOffsetError</code>
or <code>error::Error</code></p>

<p>You can figure out the appropriate partition using client&#39;s
<code>client.topic_partitions</code></p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>kafka</span>::<span class='ident'>utils</span>;
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();
<span class='kw'>let</span> <span class='ident'>resp</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>fetch_group_topic_offset</span>(<span class='string'>&quot;my-group&quot;</span>.<span class='ident'>to_owned</span>(),<span class='string'>&quot;my-topic&quot;</span>.<span class='ident'>to_owned</span>());</pre>
</div><h4 id='method.fetch_group_offset' class='method'><code>fn <a href='#method.fetch_group_offset' class='fnname'>fetch_group_offset</a>(&amp;mut self, group: <a class='struct' href='https://doc.rust-lang.org/nightly/collections/string/struct.String.html' title='collections::string::String'>String</a>) -&gt; <a class='type' href='../../kafka/error/type.Result.html' title='kafka::error::Result'>Result</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;<a class='struct' href='../../kafka/utils/struct.TopicPartitionOffsetError.html' title='kafka::utils::TopicPartitionOffsetError'>TopicPartitionOffsetError</a>&gt;&gt;</code></h4>
<div class='docblock'><p>Fetch offset for all partitions of all topics of a consumer group</p>

<p>It takes a group name and returns <code>utils::TopicPartitionOffsetError</code>
or <code>error::Error</code></p>

<p>You can figure out the topics using client&#39;s
<code>client.topic_partitions</code></p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1><pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>kafka</span>::<span class='ident'>utils</span>;
<span class='kw'>let</span> <span class='kw-2'>mut</span> <span class='ident'>client</span> <span class='op'>=</span> <span class='ident'>kafka</span>::<span class='ident'>client</span>::<span class='ident'>KafkaClient</span>::<span class='ident'>new</span>(<span class='macro'>vec</span><span class='macro'>!</span>(<span class='string'>&quot;localhost:9092&quot;</span>.<span class='ident'>to_owned</span>()));
<span class='kw'>let</span> <span class='ident'>res</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>load_metadata_all</span>();
<span class='kw'>let</span> <span class='ident'>resp</span> <span class='op'>=</span> <span class='ident'>client</span>.<span class='ident'>fetch_group_offset</span>(<span class='string'>&quot;my-group&quot;</span>.<span class='ident'>to_owned</span>());</pre>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 id='derived_implementations'>Derived Implementations </h3><h3 class='impl'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html' title='core::fmt::Debug'>Debug</a> for <a class='struct' href='../../kafka/client/struct.KafkaClient.html' title='kafka::client::KafkaClient'>KafkaClient</a></code></h3><div class='impl-items'><h4 id='method.fmt' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#method.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class='struct' href='https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html' title='core::fmt::Formatter'>Formatter</a>) -&gt; <a class='type' href='https://doc.rust-lang.org/nightly/core/fmt/type.Result.html' title='core::fmt::Result'>Result</a></code></h4>
</div><h3 class='impl'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/default/trait.Default.html' title='core::default::Default'>Default</a> for <a class='struct' href='../../kafka/client/struct.KafkaClient.html' title='kafka::client::KafkaClient'>KafkaClient</a></code></h3><div class='impl-items'><h4 id='method.default' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/default/trait.Default.html#method.default' class='fnname'>default</a>() -&gt; <a class='struct' href='../../kafka/client/struct.KafkaClient.html' title='kafka::client::KafkaClient'>KafkaClient</a></code></h4>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "kafka";
        window.playgroundUrl = "";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    
    <script async src="../../search-index.js"></script>
</body>
</html>